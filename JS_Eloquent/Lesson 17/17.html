<!-- SVG  -->
<p>normal HTML here.</p>
<svg xmlns="http://www.w3.org/2000/svg">
  <circle r="50" cx="50" cy="50" fill="red" />
  <rect x="120" y="5" width="90" height="90" stroke="blue" fill="none" />
</svg>

<!-- canvas -->
<p>Before canvas.</p>
<canvas width="2000" height="1000"></canvas>
<p>After canvas.</p>

<script>
  let cx6 = document.querySelector("canvas").getContext("2d");
  cx6.beginPath();
  for (let y = 500; y < 700; y += 10) {
    cx6.moveTo(10, y);
    cx6.lineTo(90, y);
  }
  cx6.stroke();
</script>
<script>
  let canvas = document.querySelector("canvas");
  let context = canvas.getContext("2d");
  context.fillStyle = "red";
  context.fillRect(10, 10, 100, 50);
</script>

<script>
  let cx1 = document.querySelector("canvas").getContext("2d");
  cx1.beginPath();
  cx1.moveTo(200, 10);
  cx1.lineTo(160, 70);
  cx1.lineTo(240, 70);
  cx1.fill();
</script>

<script>
  let cx2 = document.querySelector("canvas").getContext("2d");
  cx2.beginPath();
  cx2.moveTo(10, 190);
  cx2.quadraticCurveTo(60, 110, 90, 190);
  cx2.lineTo(60, 110);
  cx2.closePath();
  cx2.stroke();
</script>

<script>
  let cx3 = document.querySelector("canvas").getContext("2d");
  cx3.beginPath();
  cx3.arc(50, 250, 40, 0, 7);
  cx3.moveTo(150, 250);
  cx3.arc(150, 250, 40, 0, 0.5);
  cx3.stroke();
</script>

<!-- <canvas width = "200" height = "200"></canvas> -->
<script>
  const results = [
    { name: "Satisfied", count: 1043, color: "lightblue" },
    { name: "Netral", count: 563, color: "lightgreen" },
    { name: "Unsatisfied", count: 510, color: "pink" },
    { name: "No comment", count: 175, color: "silver" },
  ];

  let cx4 = document.querySelector("canvas").getContext("2d");
  let total = results.reduce((sum, { count }) => sum + count, 0);

  let currentAngle = -0.5 * Math.PI;
  for (let result of results) {
    let sliceAngle = (result.count / total) * 2 * Math.PI;
    cx4.beginPath();
    cx4.arc(700, 200, 100, currentAngle, currentAngle + sliceAngle);
    currentAngle += sliceAngle;
    cx4.lineTo(700, 200);
    cx4.fillStyle = result.color;
    cx4.fill();
  }
</script>

<script>
  let cx5 = document.querySelector("canvas").getContext("2d");
  cx5.font = "20px Georgia";
  cx5.fillStyle = "fuchsia";
  cx5.fillText("I can draw text, too!", 700, 300);
</script>

<script>
  function flipHorizontally(context, around) {
    context.translate(around, 0);
    context.scale(-1, 1);
    context.translate(-around, 0);
  }
  let cx = document.querySelector("canvas").getContext("2d");
  let img = document.createElement("img");
  img.src = "player.png";
  let spriteW = 24,
    spriteH = 30;
  // img.addEventListener("load", () => {
  //   flipHorizontally(cx, 1050 + spriteW / 2);
  //   let cycle = 0;
  //   setInterval(() => {
  //     // cx.scale(1, -1);
  //     cx.clearRect(1050, 0, spriteW, spriteH);
  //     cx.drawImage(
  //       img,
  //       cycle * spriteW,
  //       0,
  //       spriteW,
  //       spriteH,
  //       1050,
  //       0,
  //       spriteW,
  //       spriteH
  //     );
  //     cycle = (cycle + 1) % 8;
  //   }, 120);
  // });

  img.addEventListener("load", () => {
    let cycle = 0;
    setInterval(() => {
      // cx.scale(1, -1);
      cx.clearRect(700, 0, spriteW, spriteH);
      cx.drawImage(
        img,
        cycle * spriteW,
        0,
        spriteW,
        spriteH,
        700,
        0,
        spriteW,
        spriteH
      );
      cycle = (cycle + 1) % 8;
    }, 120);
  });
</script>
